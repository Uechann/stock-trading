# Stock-Trading

우테코 오픈 미션 주식 거래 시뮬레이터 레포지토리입니다.

# 프로젝트 개요

프레임워크 없이 자바 언어/표준 라이브러리만으로 “주문 → 매칭 → 정산 → 알림” 파이프라인을 구성하고,
동시성/비동기/락프리/AQS/트랜잭션/Lazy Loading/IoC/AOP/Virtual Threads를 실전 경험을 통해 체험한다.

# 기능 목록

다음과 같은 Level 별로 기능을 점진적으로 구현해 나갈 목표를 세워보았습니다 !
최소 목표는 Level 4 까지이며, Level 5 이후는 계속해서 발전해 나갈 예정입니다 !

## 개발 로드맵 (최소 목표: Level 4)

| Level       | 핵심 목표        | 주요 기능                                                                            | 완료 기준                 |
|-------------|--------------|----------------------------------------------------------------------------------|-----------------------|
| **Level 1** | 단일 스레드 MVP   | • 계좌/종목 생성<br>• 주문 접수/취소<br>• 가격·시간 우선 매칭<br>• 부분체결 지원<br>• 정산 및 출력              | 동기 방식으로 전체 파이프라인 동작   |
| **Level 2** | 비동기 파이프라인    | • Lock-Free Queue 접수<br>• CompletableFuture 비동기 매칭<br>• 이벤트 기반 알림<br>• 비동기 정산 체인 | UI 블로킹 없이 주문 처리       |
| **Level 3** | 멀티 종목 병렬 처리  | • 종목별 OrderBook 분리<br>• AQS 기반 종목 락<br>• 종목 단위 독립 매칭<br>• 락 경계 최소화               | 여러 종목 동시 거래 가능        |
| **Level 4** | 트랜잭션 & 상태 관리 | • TxManager 구현<br>• @Transactional 프록시<br>• 예외 시 롤백<br>• Lazy Loading 지원         | **정산 실패 시 원자적 롤백 보장** |

### Level 5 이후 (선택 구현)

- **Level 5**: 실시간 시뮬레이션 & 이벤트 버스 (MarketClock, EventBus)
- **Level 6**: 시장 가격 시뮬레이터 (랜덤워크/평균회귀 모델)
- **Level 7**: 외부 데이터 연동 (라이브/히스토리컬 피드)

## Level 1 단일 스레드 MVP 구성

주문 → 매칭 → 정산의 기본 루프를 단일 스레드에서 완전하게 동작시킨다.

| **기능**               | **설명**                                       |
|----------------------|----------------------------------------------|
| **계좌 생성**            | 초기 현금과 보유 종목 수량 입력 (예: A1=10000000, AAPL=50) |
| **주문 생성**            | ORDER <계좌> <종목> <BUY/SELL> <가격> <수량> 입력      |
| **주문 유효성 검증**        | 계좌, 종목, 가격>0, 수량>0, 보유량 부족/잔고 부족 시 거절        |
| **매칭 엔진(OrderBook)** | 동일 종목 내 가격 교차 시 체결 (가격 우선 → 시간 우선)           |
| **정산(Settlement)**   | 현금/보유수량 조정, 음수 금지                            |
| **취소 기능**            | 대기중인 주문만 취소 가능                               |
| **출력**               | 체결 결과, 계좌 잔액, 포지션 요약, 종목별 통계                 |

### **완료 기준**

- 부분 체결 가능 (예: 7매수 vs 5매도 → 잔여 2)
- 정산 후 계좌 현금·보유 주식 일관성 유지
- 잘못된 입력 시 [ERROR]로 시작하는 메시지 출력 후 재입력

----

#### 1. 종목 초기화

주식 종목을 초기화하는 기능을 구현합니다.

세부 구현

- 종목 목록 입력

예외 상황

- [ ] 종목이 빈칸 이거나 비어있을 경우 예외 처리
- [ ] 종목 형식 -> 알파벳 대문자 1~5자리 형식 맞지 않을 경우 예외 처리
- [ ] 중복된 종목 입력 시 예외 처리
  테스트 케이스
- [ ] `` -> 실패
- [ ] ` ` -> 실패
- [ ] `AAPL,GOOG,MSFT` -> 성공
- [ ] `AAPL,GOOG,AAPL` -> 실패
- [ ] `AAPL,GOOG,MSFT123` -> 실패
- [ ] `AAPL,GOOG,msft` -> 실패

---

#### 2. 계좌 번호 생성 및 자금, 목록 보유량 초기화 기능

계좌 번호 생성 및 초기 자금과 목록 보유 수량을 입력하는 기능을 구현합니다.

```
카카오 뱅크 계좌 번호 형식
앞 4자리 (TYYY): '업무구분'과 '과목코드'를 의미합니다.
일반 입출금 통장은 '3333'으로 시작하며, 이는 수시입출금식 통장을 의미합니다.
가상계좌는 '7'로 시작합니다.
```

세부 구현

- 계좌 번호 입력
- 초기 자금 입력
- 초기 보유 수량 입력

예외 상황

- 계좌 번호
    - 공백이거나 비어있을 경우 예외 처리
    - 중복된 계좌 번호 이름 입력 시 예외 처리
    - 계좌 번호 형식이 올바르지 않을 경우 예외 처리
    - 계좌 번호가 비어있을 경우 예외 처리
- 초기 자금
    - 공백이거나 비어있을 경우 예외 처리
    - 초기 자금이 숫자가 아닐 경우 예외 처리
    - 초기 자금이 음수일 경우 예외 처리
    - 한도 (5,000,000원) 초과 시 예외 처리
- 주식 보유 수량
    - 주식 보유 수량 형식이 올바르지 않을 경우 예외 처리
    - 주식 보유 수량이 숫자가 아닐 경우 예외 처리
    - 주식 보유 수량이 음수일 경우 예외 처리

테스트 케이스

- 계좌 번호
    - [ ] `` -> 실패
    - [ ] ` ` -> 실패
    - [ ] `3333-12-1234567` -> 성공
    - [ ] 중복된 계좌 번호 -> 실패
- 초기 자금
    - [ ] `` -> 실패
    - [ ] ` ` -> 실패
    - [ ] `1000000` -> 성공
    - [ ] `-50000` -> 실패
    - [ ] `6000000` -> 실패
    - [ ] `abc123` -> 실패
- 주식 보유 수량
    - [ ] `APPL=50,GOOG=30` -> 성공
    - [ ] `APPL=abc,GOOG=30` -> 실패
    - [ ] `APPL=-10,GOOG=30` -> 실패
    - [ ] `APPL50,GOOG=30` -> 실패
    - [ ] `` -> 성공 (보유 수량 0)
    - [ ] ` ` -> 성공 (보유 수량 0)

---

#### 3. 다음 단계 이동 기능 구현

사용자가 초기화 단계를 마치고 주문 입력 단계로 넘어갈 수 있도록 구현합니다.

세부 구현

- `NEXT` 명령어 입력 시 다음 단계로 이동
- 초기화가 완료되지 않은 상태에서 `NEXT` 명령어 입력 시 예외 처리

예외 처리
    - [ ] 초기화가 완료되지 않은 상태에서 `NEXT` 명령어 입력 시 예외 처리
    - [ ] `NEXT` 명령어 외의 잘못된 명령어 입력 시 예외 처리

---

#### 4. 주문 생성 및 검증 기능

주문을 생성하는 기능을 구현합니다.

세부 구현

- ORDER를 통한 계좌, 종목, 매수/매도, 가격, 수량 입력
- 주문 유효성 검증 기능 구현
- `END` 명령어 입력 시 주문 입력 종료

예외 상황

- 계좌
    - [ ] 계좌가 공백이거나 비어있을 경우 예외 처리
    - [ ] 존재하지 않는 계좌 입력 시 예외 처리
    - [ ] 계좌 형식이 올바르지 않을 경우 예외 처리
- 종목
    - [ ] 종목이 빈칸 이거나 비어있을 경우 예외 처리
    - [ ] 종목 형식 -> 알파벳 대문자 1~5자리 형식 맞지 않을 경우 예외 처리
    - [ ] 존재하지 않는 종목 입력 시 예외 처리
- 매도/매수
    - [ ] 빈칸이거나 비어있을 경우 예외 처리
    - [ ] 매수 : BUY, 매도 : SELL 외의 값 입력 시 예외 처리
- 가격
    - [ ] 가격이 빈칸 이거나 비어있을 경우 예외 처리
    - [ ] 가격이 숫자가 아닐 경우 예외 처리
    - [ ] 가격이 음수일 경우 예외 처리
    - [ ] 가격이 0일 경우 예외 처리
    - [ ] 가격 최대 한도 (1,000,000) 초과 시 예외 처리
    - [ ] 가격 소수점 입력 시 예외 처리
- 수량
    - [ ] 수량이 빈칸 이거나 비어있을 경우 예외 처리
    - [ ] 수량이 숫자가 아닐 경우 예외 처리
    - [ ] 수량이 음수일 경우 예외 처리
    - [ ] 수량이 0일 경우 예외 처리
    - [ ] 수량 최대 한도 (10,000) 초과 시 예외 처리
- 가격 X 수량 
    - [ ] 가격 X 수량이 10,000,000 초과 시 예외 처리
    - [ ] 매수 주문 시 계좌의 현금이 부족할 경우 예외 처리
    - [ ] 매도 주문 시 계좌의 보유 수량이 부족할 경우 예외 처리

---

#### 5. 매칭 엔진 기능
매칭 엔진 기능을 구현합니다.

세부 구현
- 동일 종목 내 가격 교차 시 체결 (가격 우선 → 시간 우선)
- 체결과 결정 전략 구현 (예: 상대방 호가, 중간값, 마지막 체결가 등)
- 부분 체결 기능 구현

예외 상황

- 매칭 불가 상황
    - [ ] 매수 가격 < 매도 가격 일 경우 매칭 불가
    - [ ] 매도 주문이 없을 경우 매칭 불가
    - [ ] 매수 주문이 없을 경우 매칭 불가
    - [ ] 동일 종목이 아닐 경우 매칭 불가

---

#### 4. 정산 기능

정산 기능을 구현합니다.
세부 구현
- 현금/보유수량 조정 기능 구현
- 매수자: 현금 - (매수 체결가 * 수량), 보유수량 + 수량
- 매도자: 현금 + (매도 체결가 * 수량), 보유수량 - 수량

예외 상황
- 음수 금지 정책
    - [ ] 매수자 현금이 음수가 될 경우 예외 처리
    - [ ] 매도자 보유수량이 음수가 될 경우 예외 처리

---

#### 5. 주문 취소 기능
주문 취소 기능을 구현합니다.
세부 구현
- CANCEL <ORDER_ID> 명령어를 통한 주문 취소 기능 구현
- 대기중인 주문만 취소 가능

예외 상황
- [ ] 존재하지 않는 ORDER_ID 입력 시 예외 처리
- [ ] 이미 체결된 주문 취소 시 예외 처리

---

#### 6. 출력 기능
출력 기능을 구현합니다.
세부 구현
- 체결 결과 출력
    - [체결] <종목> <체결가> x <수량> (BUY:<계좌>, SELL:<계좌>)
    - `[체결] AAPL 115 x30 (BUY:A1, SELL:A2)`
- 각 계좌 별 잔액 및 포지션 요약 평가 손익, 수익률 출력
    - `계좌 <계좌ID> : 현금 <현금잔액>`
    - `/종목 | 보유수량 | 평균 매입가 | 최종 체결가 | 평가손익 | 수익률`
    - ```
      계좌 A1 : 현금 9,996,550
      종목 | 보유수량 | 평균 매입가 | 최종 체결가 | 평가손익 | 수익률
      AAPL | 30 | 115 | 120 | 150 | 0.52%
      GOOG | 10 | 200 | 250 | 500 | 2.00%
      ```
- 종목별 통계 (체결 건수, 평균 체결가, 최종 체결가) 출력
    - <종목>: 체결 <체결건수>건, 평균체결가 <평균체결가>, 최종체결가 <최종체결가>
    - `AAPL: 체결 10건, 평균체결가 118, 최종체결가 120`
- 전체 처리 통계 출력 (총 주문수, 체결수, 부분체결수, 취소수)
    - 통계: 총주문 <총주문수>, 체결 <체결수>, 부분체결 <부분체결수>, 취소성공 <취소성공수>
    - `통계: 총주문 6, 체결 4, 부분체결 1, 취소 1`

---

## Level 2 비동기 주문 파이프라인

주문 접수와 체결/정산을 분리해 비동기적으로 처리한다.

- 시스템을 “이벤트 주도 구조”로 전환
- CompletableFuture 기반 비동기 체결 파이프라인 구성

| **기능**                 | **설명**                                     |
|------------------------|--------------------------------------------|
| **비동기 주문 접수**          | 주문 입력 시 LockFreeQueue에 enqueue             |
| **비동기 매칭/정산 체인**       | CompletableFuture.runAsync() 로 백그라운드 매칭 수행 |
| **Lock-Free Queue 구현** | Michael–Scott 알고리즘 기반 CAS 큐                |
| **이벤트 로그**             | 주문 → 체결 → 정산 흐름을 로그에 타임라인으로 기록             |
| **비동기 알림**             | 체결 이벤트 발생 시 콘솔/뷰에 즉시 반영                    |

### **완료 기준**

- 다수 주문을 입력해도 UI/입력 블로킹 없음
- 주문 → 체결 → 정산 순서가 논리적으로 일관
- CompletableFuture 체인 내 예외 발생 시 “롤백/에러 로그 출력” 처리

## Level 3 멀티 종목 + AQS 기반 종목 락 처리

여러 종목을 동시에 처리하되, 종목별로 독립된 락을 적용하여 데이터 충돌 방지.

- 종목 간 병렬성 확보 (AAPL, GOOG, TSLA 동시에 거래 가능)

| **기능**               | **설명**                                     |
|----------------------|--------------------------------------------|
| **종목별 OrderBook 관리** | Map<Symbol, OrderBook> 형태로 분리              |
| **종목 단일 락**          | AQS 기반 재진입락(ReentrantSymbolLock)으로 임계영역 보호 |
| **락 경계 최소화**         | OrderBook 상태 변경 시에만 락 점유                   |
| **락 없는 I/O**         | 체결 결과 출력, 알림, 통계 등은 락 외부에서 처리              |
| **멀티 종목 주문 처리**      | 각 종목별 매칭 루프 독립 동작                          |

### **완료 기준**

- 여러 종목에 대해 동시에 주문 가능
- 락 경계 내에서 I/O 수행 금지
- 두 종목 간 교착이나 공유 데이터 충돌 없음

## Level 4 트랜잭션, 상태 롤백

정산 과정에서 예외 발생 시 모든 상태를 원자적으로 되돌린다.

- 정산 과정의 원자성 확보
- @Transactional 프록시를 이용한 단위 트랜잭션 처리

| **기능**                      | **설명**                                      |
|-----------------------------|---------------------------------------------|
| **TxManager**               | begin, commit, rollback 관리 (ThreadLocal 기반) |
| **@Transactional 어노테이션 구현** | 프록시 기반으로 트랜잭션 경계 자동 적용                      |
| **롤백 규칙**                   | rollbackOn = RuntimeException.class 기본      |
| **트랜잭션 로그**                 | 정산 중 변경된 Account/Position 상태를 기록 후 실패 시 원복  |
| **Lazy Loading**            | Account.getPositions() 첫 호출 시 지연 로딩         |

### **완료 기준**

- 정산 중 예외 발생 시 **현금/보유수량 원복 확인**
- @Transactional 적용된 서비스 단위로 원자성 보장
- LazyList 접근 전에는 데이터 로드 안됨 (로그로 확인 가능)

## Level 5 실시간 시뮬레이션, 이벤트 버스

거래소처럼 실시간으로 틱/체결/취소 이벤트가 발생하고 반영되는 구조로 발전

| **기능**                  | **설명**                                     |
|-------------------------|--------------------------------------------|
| **MarketClock**         | 시뮬레이션용 내부 시계 (예: 100ms 주기 틱)               |
| **MarketDataSimulator** | 종목별 랜덤 틱 생성 → 가격·호가 변화 시뮬레이션               |
| **EventBus**            | 주문/체결/취소/틱 이벤트를 비동기로 브로드캐스트                |
| **OutputView 구독자 구조**   | 체결/틱 이벤트 발생 시 자동 갱신 출력                     |
| **계좌 실시간 평가 손익 계산**     | 실시간 가격 변화 반영                               |
| **통계 모듈**               | 주문/체결/취소/롤백/거절 수, 평균 지연(ms), 처리량(ops/s) 출력 |

## **Level 5 — 부하 테스트 & 성능 측정**

수만 건의 주문을 동시에 처리하며 Virtual Threads와 Lock-Free Queue의 성능을 비교 분석한다.

| **기능**                      | **설명**                                      |
|-----------------------------|---------------------------------------------|
| **Virtual Thread Executor** | Executors.newVirtualThreadPerTaskExecutor() |
| **LoadRunner**              | 1만~5만 주문 생성 → 병렬 제출                         |
| **메트릭 수집**                  | 처리량(ops/s), 평균 지연, 롤백율, CPU 점유율             |
| **비교 실험**                   | Platform Thread vs Virtual Thread           |
| **리포트 출력**                  | CSV/콘솔 리포트 (성능 지표)                          |

### **완료 기준**

- 1만 건 이상 주문 처리 가능
- Virtual Threads 사용 시 처리량 ≥ Platform Threads
- 성능 리포트 표/그래프 형태 출력

---

## **Level 6 — 시장 가격 시뮬레이터 (Market Price Generator)**

실제 주식처럼 “그래프가 실시간으로 변하는” 시장 데이터 생성 단계

| **기능**                         | **설명**                                                    |
|--------------------------------|-----------------------------------------------------------|
| **시세 생성 엔진 (MarketSimulator)** | 매 틱마다 종목별 가격을 랜덤하게 변경                                     |
| **가격 모델 선택 가능**                | - 무작위(Random Walk)  - 이동평균복원(Mean Reversion)  - 노이즈+추세 모델 |
| **이벤트 발행**                     | 틱마다 PriceTick(symbol, price, volume) 이벤트 브로드캐스트           |
| **OutputView 실시간 그래프**         | 콘솔/웹 기반 간이 차트(가격 흐름) 업데이트                                 |
| **평가손익(PnL) 계산 자동화**           | 계좌별 평가금액 = 보유수량 * 현재가                                     |

### 예시

```java
[MarketTick]AAPL 119.4 ▲ +0.3%
        [MarketTick]TSLA 201.8 ▼ -1.1%
        [MarketTick]GOOG 98.6 ▲ +0.5%
```

## **Level 7 — 외부 데이터 연동 (Live / Historical Feed)**

## **Level 8 — 자동매매(Algorithmic Trading / Bot Agents)**

---

# 요구 사항

### 프로젝트 개요

프레임워크 없이 자바 언어/표준 라이브러리만으로 “주문 → 매칭 → 정산 → 알림” 파이프라인을 구성하고,

동시성/비동기/락프리/AQS/트랜잭션/Lazy Loading/IoC/AOP/Virtual Threads를 실전 경험을 통해 체험한다.

### 요구 사항

콘솔 기반 주식 거래 시뮬레이터를 구현한다.

사용자는 초기 계좌/심볼을 설정하고 주문을 입력하면, 시스템은 주문 → 매칭 → 정산 → 알림 흐름으로 거래를 처리한다. 처리 결과와 각 계좌의 잔액/보유수량/손익 및 처리 통계를 출력한다.

## 기본 요구사항

- 주문은 지정가(Limit) ****주문만 허용한다.
- 한 주문은 { 계좌, 종목, 매수/매도, 가격, 수량 }으로 구성된다.
- 가격 / 수량은 양의 정수여야 한다.
- 매칭 기준 : 가격 우선 → 시간 우선.
- 체결은 부분 체결을 허용하며, 잔여 수량은 대기로 남는다.

## 기능 요구사항

### 2.1 초기화

- 계좌(Account) 초기 자금 입력
    - 예: A1=10_000_000, A2=8_000_000
- 종목(Symbol) 목록 및 (선택) 초기 기준가
    - 예: AAPL, GOOG (초기 기준가는 출력용/검증용, 필수 아님)

### 2.2 주문 입력/취소

- Order: accountId, symbol, side(BUY/SELL), price, qty
- 주문 유효성 검증(계좌 존재, 심볼 존재, 가격/수량 > 0)
- 취소는 “대기 중(미체결)”인 주문만 가능

### 2.3 매칭(Matching)

- 종목별 OrderBook 유지(매수호가, 매도호가 큐)
- 가격 교차 시 체결 생성
    - 매수 가격 ≥ 매도 가격 → **체결가**는 구현자 선택(예: 상대방 호가, 중간값, 마지막 체결가 등)
- 부분 체결 허용(잔여 수량 재대기)
- 매칭 후 체결 이력(Trade) 기록

### 2.4 정산(Settlement)

- 체결 시 계좌의 현금/보유수량을 반영
    - 매수자: 현금 -= 체결가*수량, 보유수량 += 수량
    - 매도자: 현금 += 체결가*수량, 보유수량 -= 수량
- 음수 잔고/음수 수량 금지 정책(정산 중 위반 시 예외 → 롤백)

### 2.5 결과/통계 출력

- 각 계좌의 최종 잔액/보유수량/평가손익(선택) 출력
- 종목별 체결 건수/평균 체결가/최종 체결가 출력
- 전체 처리 통계(총 주문수, 체결수, 부분체결수, 취소수, 실패/롤백수, 처리량/지연)

## 동시성/비동기 요구사항

- Lock-Free Queue(CAS) 로 접수 대기열 구현 (Michael–Scott 큐 권장)
- 종목 락(AQS 기반 재진입 락) 으로 종목별 매칭 루프 직렬화
- CompletableFuture 로 매칭→정산을 비동기 파이프라인 처리
- Virtual Threads 로 대량 주문 부하 테스트

## 입출력 요구사항

### 입력

- 계좌 초기 자금 입력
- 종목 목록 입력
- 주문/취소 입력
- 입력값 검증 및 예외 처리(재입력 유도)

### 출력

- 주문 접수/체결/정산 알림
- 최종 계좌/포지션/통계 출력
- 에러 메시지는 **[ERROR]** 로 시작

## 예외 처리 요구 사항

- 잘못된 입력은 **IllegalArgumentException** 발생, 메시지 출력 후 **해당 입력부터 재시도**.
    - 존재하지 않는 계좌/심볼
    - 가격/수량이 0 이하
    - 취소 대상 주문이 미체결이 아님
- 시스템 상태 위반(예: 음수 잔액/수량)은 **IllegalStateException** 발생 → 해당 체결 **롤백**.

## 입출력 예시

### 초기화

```java
계좌 초기
자금을 입력하세요.(예:A1=10000000,A2=8000000)
A1=10000000,A2=8000000A

거래할 종목
목록을 입력하세요.(예:AAPL,GOOG,MSFT,TSLA)
AAPL,GOOG,MSFT

초기 보유
수량을 입력하세요.(예:A1:AAPL=100,A2:AAPL=50/
없으면 엔터)
A1:AAPL=60,A2:AAPL=40
```

### 주문/취소 입력

```java
주문을 입력하세요.(예:ORDER<ACC> <SYM> <BUY|SELL> <PRICE> <QTY> /CANCEL<ORDER_ID> /ADD_SYMBOL<SYM> /END)
ORDER A1
AAPL BUY 120 50
ORDER A2
AAPL SELL 115 30
ORDER A2
AAPL SELL 120 20
ORDER A1
GOOG BUY 200 10
ORDER A2
GOOG SELL 210 5
ADD_SYMBOL TSLA
ORDER A1
TSLA BUY 80 10
CANCEL 2
END
```

### 출력

```java
[접수] #1
A1 AAPL
BUY 120x50
[접수] #2
A2 AAPL
SELL 115x30
[체결]AAPL 115

x30(BUY:A1, SELL:A2)   // 가격 교차로 즉시 체결
[정산]
A1 현금 -3450,AAPL +30/
A2 현금 +3450,AAPL -30
        [접수] #3
A2 AAPL
SELL 120x20          // 보유(A2) 잔여 10 → 매도 20? (공매도 금지면 거절)
[ERROR]
보유 수량
부족으로 매도

불가(#3거절)

[접수] #4
A1 GOOG
BUY 200x10
[접수] #5
A2 GOOG
SELL 210x5            // 미체결(가격 미교차)
[ADD]TSLA
[접수] #6
A1 TSLA
BUY 80x10
[취소] #2 →
이미 체결되어
취소 불가
[END]

        ===
최종 정산
결과 ===
        -
계좌 A1:현금 9,996,550/AAPL 30/GOOG 10(
대기 미체결)/TSLA 10
        -
계좌 A2:현금 8,003,450/AAPL 10/GOOG -5(
대기 미체결
주문,
보유는 감소
X)
        -
종목 AAPL:체결 1건,최종체결가 115
        -
종목 GOOG:체결 0건,
최우선호가 B:200/A:210
        -
종목 TSLA:체결 0건,
최우선호가 B:80
        -통계:총주문 6,체결 1,취소성공 0,취소실패 1,거절 1,롤백 0
```

